{"version":3,"sources":["webpack:///src/hucais-mall/mdc/store/confirmOrder.vue","webpack:///./src/hucais-mall/mdc/store/confirmOrder.vue?073a","webpack:///./src/hucais-mall/mdc/store/confirmOrder.vue"],"names":["confirmOrder","name","data","score","result","popupVisible","addressVisible","distributionMode","value","delivery","address","addressList","components","methods","cancel","hcMessage","alert","then","console","info","catch","log","confirm","this","Object","axios","storeId","shippingId","deliveryTime","Date","valueOf","res","code","changeDistribution","handleChange","format","toDate","changeAddress","receiverName","receiverMobile","receiverMobileNo","receiverProvince","provinceName","receiverCity","cityName","receiverDistrict","districtName","receiverAddress","detailAddress","id","popupAddresses","getQueryUserShippingListWithPage","datetimeOpen","$refs","datetime","open","jump","$router","push","_this","pageSize","pageNum","list","getConfirmationOrderDoc","_this2","shippingVo","mounted","store_confirmOrder","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","fixed","title","slot","icon","on","click","back","_v","is-link","nativeOn","$event","_e","label","style","backgroundImage","omcStoreVo","imgUrl","_s","shortName","adress","size","type","plain","_l","item","index","key","src","productImage","alt","productName","subtitle","wineMl","nums","currentUnitPrice","quantity","payment","position","model","callback","$$v","expression","length","color","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.ecb411171d315e685d20.js","sourcesContent":["<template>\r\n  <div class=\"hc-confirm-order\">\r\n     <mt-header class=\"hc-header\" fixed title=\"确认下单\">\r\n        <mt-button @click=\"back\" slot=\"left\" icon=\"back\"></mt-button>\r\n         <mt-button icon=\"more\" slot=\"right\"></mt-button>\r\n      </mt-header>\r\n     <div class=\"hc-content\">\r\n          <mt-cell title=\"商品配送方式\" :value=\"distributionMode.name\" is-link @click.native=\"popupVisible = true\"></mt-cell>\r\n          <mt-cell title=\"商品送达时间\"  :value=\"delivery\" is-link  @click.native=\"datetimeOpen\"></mt-cell>\r\n          <mt-cell v-if=\"address == null\" title=\"收货地址\" value=\"请选择\" is-link @click.native=\"popupAddresses\"></mt-cell>\r\n          <mt-cell v-if=\"address != null\" :title=\"`${address.receiverName} ${address.receiverMobile}`\"  \r\n                   :label=\"`${address.receiverProvince} ${address.receiverCity} ${address.receiverDistrict}${address.receiverAddress}`\"\r\n                   is-link @click.native=\"popupAddresses\"></mt-cell>\r\n          <div class=\"hc-panel\">\r\n                <mt-cell title=\"配送商店\" is-link @click.native=\"jump('/mdcOrder/storeList')\"></mt-cell>\r\n                <div class=\"hc-flex \">\r\n                    <div class=\"hc-flex-item hc-text-center\">\r\n                       <div class='hc-icon' v-bind:style =\"{backgroundImage:'url('+result.omcStoreVo.imgUrl+')'}\"></div>\r\n                    </div>\r\n                    <div class=\"hc-flex-item hc-flex-item-3\">\r\n                       <h2>{{result.omcStoreVo.shortName}}</h2>\r\n                       <span>{{result.omcStoreVo.adress}}</span>\r\n                    </div>\r\n                    <div class=\"hc-flex-item hc-flex-item-2 hc-text-center\">\r\n                       <mt-button size=\"small\" type=\"primary\" plain @click=\"jump('/mdcOrder/store')\">查看店铺</mt-button>\r\n                    </div>\r\n                </div>\r\n          </div>\r\n          <div class=\"hc-store-list\">\r\n              <div v-for=\"(item,index) in result.orderItemVoList\" v-bind:key=\"index\" class=\"hc-store-item \" >\r\n                  <div class=\"hc-flex\">\r\n                      <div class=\"hc-flex-item\">\r\n                          <img class=\"thrume\" :src=\"item.productImage\" alt=\"\">\r\n                      </div>\r\n                      <div class=\"hc-flex-item hc-flex-item-2\">\r\n                        <div class=\"hc-store-content\">\r\n                          <h3>{{item.productName}}</h3>\r\n                          <p>{{item.subtitle}}</p>\r\n                          <p>规格：{{item.wineMl}}ml {{item.nums}}瓶/件</p>\r\n                          <div class=\"hc-flex\">\r\n                            <div class=\"hc-flex-item \">\r\n                                ￥ <span class=\"price\">{{item.currentUnitPrice}}</span> X{{item.quantity}}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"hc-price\">\r\n               <div class=\"hc-flex\">\r\n                   <div class=\"hc-flex-item\">\r\n                       总计金额\r\n                   </div>\r\n                   <div class=\"hc-flex-item hc-text-right\">\r\n                       ￥<span class=\"hc-momeny\">{{result.payment}}</span>\r\n                   </div>\r\n               </div>\r\n          </div>\r\n     </div>\r\n     <div class=\"hc-footer\">\r\n        <div class=\"hc-flex\">\r\n            <div class=\"hc-flex-item hc-text-center\" @click=\"cancel\">\r\n                取消订单\r\n            </div>\r\n            <div class=\"hc-flex-item hc-text-center confirm\" @click=\"confirm\">\r\n                确认订单\r\n            </div>\r\n        </div>\r\n    </div>\r\n     <mt-popup\r\n        v-model=\"popupVisible\"\r\n        position=\"bottom\">\r\n        <div class=\"hc-popup\">\r\n            <div class=\"hc-popup-title\">配送方式选择</div>\r\n            <div class=\"hc-popup-content\">\r\n                <div class=\"hc-flex \" @click=\"changeDistribution({name:'送货上门',value:0})\">\r\n                    <div class=\"hc-flex-item hc-text-center\">\r\n                        <icon value=\"ziyuan11\" class=\"gray\"></icon>\r\n                    </div>\r\n                    <div class=\"hc-flex-item hc-flex-item-3\">\r\n                       <h2>送货上门</h2>\r\n                       <span>门店自动送货到你的收获地址</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"hc-flex \"  @click=\"changeDistribution({name:'自提',value:1})\">\r\n                    <div class=\"hc-flex-item hc-text-center\">\r\n                        <icon value=\"lujing13\" class=\"orange\"></icon>\r\n                    </div>\r\n                    <div class=\"hc-flex-item hc-flex-item-3\">\r\n                       <h2>自提</h2>\r\n                       <span>你需要亲自到下单门店取货</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </mt-popup>\r\n    <mt-popup\r\n        v-model=\"addressVisible\"\r\n        position=\"bottom\">\r\n        <div class=\"hc-popup\">\r\n            <div class=\"hc-popup-title\">配送地址选择</div>\r\n            <div class=\"hc-popup-content\">\r\n                <div class=\"hc-address\">\r\n                    <div class=\"hc-address-body\">\r\n                        <div v-if=\"addressList.length > 0\" class=\"hc-address-item\" v-for=\"(item, index) in addressList\" :key=\"index\" @click=\"changeAddress(item)\">\r\n                            <h2>{{item.receiverName}} <span>{{item.receiverMobileNo}}</span></h2>\r\n                            <span>{{item.provinceName}} {{item.cityName}} {{item.districtName}} {{item.detailAddress}}</span>\r\n                        </div>\r\n                        <div class=\"hc-address-no\" v-if=\"addressList.length <= 0\">\r\n                            <icon value='lujing12' color='e9e9e9'></icon>\r\n                            <p>暂无收货地址，请添加您的详细收货地址！</p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"hc-address-add\">\r\n                    <mt-button @click=\"jump('/mdcOrder/addAddress')\">新建地址</mt-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </mt-popup>\r\n    <!-- :startDate=\"result.omcStoreVo.startBusinessHours\" :endDate=\"result.omcStoreVo.endBusinessHours\"   -->\r\n    <datetime ref=\"datetime\" @confirm=\"handleChange\" ></datetime>\r\n    \r\n  </div>\r\n</template>\r\n<script>\r\nimport { confirmationOrderDoc,queryUserShippingListWithPage,createOrderDoc } from '../../api/axios.js';\r\nimport { HcMessageBox } from '../../components/common/hcMessage';\r\nimport format from '../../utils/format.js';\r\nexport default {\r\n  name:'store',\r\n  data(){\r\n    return {\r\n      score:9,\r\n      result:{},\r\n      popupVisible:false,\r\n      addressVisible:false,\r\n      distributionMode:{name:'送货上门',value:0},\r\n      delivery:'请选择',\r\n      address:null,\r\n      //地址列表面板\r\n      addressList:[]\r\n    }\r\n  },\r\n  components:{\r\n  },\r\n  methods:{\r\n    // 取消订单\r\n    cancel(){\r\n       HcMessageBox.alert(\"确定取消订单!\").then(()=>console.info(1)).catch((result) => { console.log(result) });\r\n    },\r\n    //提交订单\r\n    confirm(){\r\n       if(this.delivery == '请选择')  {\r\n           HcMessageBox.confirm(\"请选择送达时间!\");\r\n           return;\r\n       }\r\n       if(!this.address){\r\n           HcMessageBox.confirm(\"请填写收货地址!\");\r\n           return;\r\n       }\r\n       createOrderDoc({\r\n           storeId:this.result.storeId,\r\n           distributionMode:this.distributionMode.value,\r\n           shippingId:this.address.shippingId,\r\n           deliveryTime: new Date(this.delivery).valueOf()\r\n       }).then((res)=>{\r\n          if(res.code == 200){\r\n             HcMessageBox(\"您已下单成功!\");\r\n          }\r\n       })\r\n    },\r\n    changeDistribution(value){\r\n       this.distributionMode = value;\r\n       this.popupVisible = false;\r\n    },\r\n    // 选中时间\r\n    handleChange(value) {\r\n        this.delivery = format.toDate(value,'yyyy-MM-dd HH:mm')\r\n    },\r\n    // 改变地址\r\n    changeAddress(value){\r\n        this.address = {\r\n            receiverName:value.receiverName,\r\n            receiverMobile:value.receiverMobileNo,\r\n            receiverProvince:value.provinceName,\r\n            receiverCity:value.cityName,\r\n            receiverDistrict:value.districtName,\r\n            receiverAddress:value.detailAddress,\r\n            shippingId:value.id\r\n        };\r\n        this.addressVisible = false\r\n    },\r\n    // 调取 个人地址列表\r\n    popupAddresses(){\r\n       this.addressVisible = true;\r\n       this.getQueryUserShippingListWithPage();\r\n    },\r\n    // 打开时间信息\r\n    datetimeOpen(){\r\n      this.$refs.datetime.open();\r\n    },\r\n    // 跳转路由\r\n    jump(value){\r\n       this.$router.push(value)\r\n    },\r\n    // 获取地址列表\r\n    getQueryUserShippingListWithPage(){\r\n        queryUserShippingListWithPage({pageSize:10,pageNum:1}).then((data) => {\r\n            console.info(data)\r\n            this.addressList = data.result.list;\r\n        })\r\n    },\r\n    // 获取下单信息\r\n    getConfirmationOrderDoc(){\r\n      confirmationOrderDoc({storeId:1}).then((data) => {\r\n        this.result = data.result;\r\n        this.address = data.result.shippingVo;\r\n        this.address.shippingId = data.result.shippingId\r\n      })\r\n    }\r\n  },\r\n  mounted(){\r\n    this.getConfirmationOrderDoc({storeId:'1'})\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.hc-confirm-order{\r\n    .mint-popup {\r\n        width: 100%;\r\n        height: inherit;\r\n        overflow: scroll;\r\n    }\r\n    .hc-header {\r\n        height: px2rem(48);\r\n        font-size: px2rem(16);\r\n        .mint-header-button{\r\n            -webkit-box-flex: .1;\r\n            -ms-flex: .1;\r\n            flex: .1;\r\n        }\r\n        .mint-header-title{\r\n            text-align: left;\r\n        }\r\n        .mintui{\r\n            font-size: px2rem(16);\r\n        }\r\n    }\r\n    .hc-content{\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        top: 50px;\r\n        bottom: 50px;\r\n        overflow: auto;\r\n        .hc-panel {\r\n            background: #fff;\r\n            margin: 15px 0;\r\n            padding-bottom: 5px;\r\n            .hc-flex{\r\n                padding-top: 5px;\r\n            }\r\n            .mint-cell{\r\n                border-bottom: 1px solid #eeeeee;\r\n            }\r\n            .hc-icon{\r\n                height: 50px;\r\n                width: 50px;\r\n                border-radius: 100%;\r\n                background-size: cover;\r\n                background-position: center;\r\n                background-repeat: no-repeat;\r\n                display: inline-block;\r\n            }\r\n        }\r\n        .hc-price{\r\n            background: #fff;\r\n            margin: 15px 0;\r\n            padding: 15px;\r\n            .hc-flex{\r\n            padding-bottom: 10px;\r\n            }\r\n            .hc-momeny{\r\n            color: red;\r\n            font-size: px2rem(16);\r\n            }\r\n        }\r\n    }\r\n    .hc-store-list{\r\n        .hc-store-item{\r\n        background: #fff;\r\n        padding: px2rem(12) px2rem(10);\r\n        border-bottom: 1px solid #dbdbdb;\r\n        .hc-store-content{\r\n            padding-left: px2rem(10);\r\n        }\r\n        h3{\r\n            font-size: px2rem(16);\r\n        }\r\n        p{\r\n            margin: 0;\r\n            font-size: px2rem(12);\r\n        }\r\n        .thrume{\r\n            width: 100%;\r\n        }\r\n        .price{\r\n            font-size: px2rem(14);\r\n            color: red;\r\n        }\r\n        }\r\n    }\r\n    .hc-footer{\r\n        position: fixed;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        height: 50px;\r\n        .hc-flex-item{\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: px2rem(16);\r\n            &.confirm{\r\n                background:  #f3ab30;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n    .hc-popup{\r\n        .hc-popup-title{\r\n            height: px2rem(50);\r\n            line-height: px2rem(50);\r\n            text-align: center;\r\n            border-bottom: 1px solid #dbdbdb;\r\n            font-size: px2rem(16);\r\n        }\r\n        .hc-popup-content{\r\n            min-height: 40vh;\r\n            max-height: 70vh;\r\n            overflow: auto;\r\n            .icon{\r\n                width: 4em;\r\n                height: 4em;\r\n                &.gray{\r\n                     color: #dcdcdc;\r\n                }\r\n                &.orange{\r\n                    color: #f3ab03;\r\n                }\r\n            }\r\n            .hc-flex{\r\n                margin-top: 15px;\r\n            }\r\n        }\r\n        .hc-address{\r\n            margin: px2rem(18) px2rem(30);\r\n            .hc-address-body{\r\n                min-height: 30vh;\r\n                max-height: 55vh;\r\n                overflow: auto;\r\n                .hc-address-item{\r\n                    padding-top: 15px;\r\n                    border-bottom: 1px solid #e6e6e6;\r\n                    padding-bottom: 10px;\r\n                    &:first-child{\r\n                        padding-top: 0;\r\n                    }\r\n\r\n                    h3{\r\n                        color: #3a3533;\r\n                        font-size: px2rem(16);\r\n                    }\r\n                    p{\r\n                        color: #b3b3b3;\r\n                        font-size: px2rem(12);\r\n                    }\r\n                }\r\n                .hc-address-no{\r\n                    text-align: center;\r\n                    font-size: px2rem(28);\r\n                    p{\r\n                        font-size: px2rem(14);\r\n                        color: #cfcfcf;\r\n                    }\r\n                }\r\n            }\r\n            .hc-address-add{\r\n                text-align: center;\r\n                padding-top: 15px;\r\n                .mint-button--default{\r\n                    color: #fff;\r\n                    background-color: #f3ab03;\r\n                    width:px2rem(250);\r\n                    height: px2rem(48);\r\n                    border-radius: px2rem(24);\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/hucais-mall/mdc/store/confirmOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hc-confirm-order\"},[_c('mt-header',{staticClass:\"hc-header\",attrs:{\"fixed\":\"\",\"title\":\"确认下单\"}},[_c('mt-button',{attrs:{\"slot\":\"left\",\"icon\":\"back\"},on:{\"click\":_vm.back},slot:\"left\"}),_vm._v(\" \"),_c('mt-button',{attrs:{\"slot\":\"right\",\"icon\":\"more\"},slot:\"right\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"hc-content\"},[_c('mt-cell',{attrs:{\"title\":\"商品配送方式\",\"value\":_vm.distributionMode.name,\"is-link\":\"\"},nativeOn:{\"click\":function($event){_vm.popupVisible = true}}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"商品送达时间\",\"value\":_vm.delivery,\"is-link\":\"\"},nativeOn:{\"click\":function($event){return _vm.datetimeOpen($event)}}}),_vm._v(\" \"),(_vm.address == null)?_c('mt-cell',{attrs:{\"title\":\"收货地址\",\"value\":\"请选择\",\"is-link\":\"\"},nativeOn:{\"click\":function($event){return _vm.popupAddresses($event)}}}):_vm._e(),_vm._v(\" \"),(_vm.address != null)?_c('mt-cell',{attrs:{\"title\":((_vm.address.receiverName) + \" \" + (_vm.address.receiverMobile)),\"label\":((_vm.address.receiverProvince) + \" \" + (_vm.address.receiverCity) + \" \" + (_vm.address.receiverDistrict) + (_vm.address.receiverAddress)),\"is-link\":\"\"},nativeOn:{\"click\":function($event){return _vm.popupAddresses($event)}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"hc-panel\"},[_c('mt-cell',{attrs:{\"title\":\"配送商店\",\"is-link\":\"\"},nativeOn:{\"click\":function($event){_vm.jump('/mdcOrder/storeList')}}}),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex \"},[_c('div',{staticClass:\"hc-flex-item hc-text-center\"},[_c('div',{staticClass:\"hc-icon\",style:({backgroundImage:'url('+_vm.result.omcStoreVo.imgUrl+')'})})]),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex-item hc-flex-item-3\"},[_c('h2',[_vm._v(_vm._s(_vm.result.omcStoreVo.shortName))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.result.omcStoreVo.adress))])]),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex-item hc-flex-item-2 hc-text-center\"},[_c('mt-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.jump('/mdcOrder/store')}}},[_vm._v(\"查看店铺\")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"hc-store-list\"},_vm._l((_vm.result.orderItemVoList),function(item,index){return _c('div',{key:index,staticClass:\"hc-store-item \"},[_c('div',{staticClass:\"hc-flex\"},[_c('div',{staticClass:\"hc-flex-item\"},[_c('img',{staticClass:\"thrume\",attrs:{\"src\":item.productImage,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex-item hc-flex-item-2\"},[_c('div',{staticClass:\"hc-store-content\"},[_c('h3',[_vm._v(_vm._s(item.productName))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.subtitle))]),_vm._v(\" \"),_c('p',[_vm._v(\"规格：\"+_vm._s(item.wineMl)+\"ml \"+_vm._s(item.nums)+\"瓶/件\")]),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex\"},[_c('div',{staticClass:\"hc-flex-item \"},[_vm._v(\"\\n                              ￥ \"),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(item.currentUnitPrice))]),_vm._v(\" X\"+_vm._s(item.quantity)+\"\\n                          \")])])])])])])})),_vm._v(\" \"),_c('div',{staticClass:\"hc-price\"},[_c('div',{staticClass:\"hc-flex\"},[_c('div',{staticClass:\"hc-flex-item\"},[_vm._v(\"\\n                     总计金额\\n                 \")]),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex-item hc-text-right\"},[_vm._v(\"\\n                     ￥\"),_c('span',{staticClass:\"hc-momeny\"},[_vm._v(_vm._s(_vm.result.payment))])])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"hc-footer\"},[_c('div',{staticClass:\"hc-flex\"},[_c('div',{staticClass:\"hc-flex-item hc-text-center\",on:{\"click\":_vm.cancel}},[_vm._v(\"\\n              取消订单\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex-item hc-text-center confirm\",on:{\"click\":_vm.confirm}},[_vm._v(\"\\n              确认订单\\n          \")])])]),_vm._v(\" \"),_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('div',{staticClass:\"hc-popup\"},[_c('div',{staticClass:\"hc-popup-title\"},[_vm._v(\"配送方式选择\")]),_vm._v(\" \"),_c('div',{staticClass:\"hc-popup-content\"},[_c('div',{staticClass:\"hc-flex \",on:{\"click\":function($event){_vm.changeDistribution({name:'送货上门',value:0})}}},[_c('div',{staticClass:\"hc-flex-item hc-text-center\"},[_c('icon',{staticClass:\"gray\",attrs:{\"value\":\"ziyuan11\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex-item hc-flex-item-3\"},[_c('h2',[_vm._v(\"送货上门\")]),_vm._v(\" \"),_c('span',[_vm._v(\"门店自动送货到你的收获地址\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex \",on:{\"click\":function($event){_vm.changeDistribution({name:'自提',value:1})}}},[_c('div',{staticClass:\"hc-flex-item hc-text-center\"},[_c('icon',{staticClass:\"orange\",attrs:{\"value\":\"lujing13\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"hc-flex-item hc-flex-item-3\"},[_c('h2',[_vm._v(\"自提\")]),_vm._v(\" \"),_c('span',[_vm._v(\"你需要亲自到下单门店取货\")])])])])])]),_vm._v(\" \"),_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.addressVisible),callback:function ($$v) {_vm.addressVisible=$$v},expression:\"addressVisible\"}},[_c('div',{staticClass:\"hc-popup\"},[_c('div',{staticClass:\"hc-popup-title\"},[_vm._v(\"配送地址选择\")]),_vm._v(\" \"),_c('div',{staticClass:\"hc-popup-content\"},[_c('div',{staticClass:\"hc-address\"},[_c('div',{staticClass:\"hc-address-body\"},[_vm._l((_vm.addressList),function(item,index){return (_vm.addressList.length > 0)?_c('div',{key:index,staticClass:\"hc-address-item\",on:{\"click\":function($event){_vm.changeAddress(item)}}},[_c('h2',[_vm._v(_vm._s(item.receiverName)+\" \"),_c('span',[_vm._v(_vm._s(item.receiverMobileNo))])]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.provinceName)+\" \"+_vm._s(item.cityName)+\" \"+_vm._s(item.districtName)+\" \"+_vm._s(item.detailAddress))])]):_vm._e()}),_vm._v(\" \"),(_vm.addressList.length <= 0)?_c('div',{staticClass:\"hc-address-no\"},[_c('icon',{attrs:{\"value\":\"lujing12\",\"color\":\"e9e9e9\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"暂无收货地址，请添加您的详细收货地址！\")])],1):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"hc-address-add\"},[_c('mt-button',{on:{\"click\":function($event){_vm.jump('/mdcOrder/addAddress')}}},[_vm._v(\"新建地址\")])],1)])])])]),_vm._v(\" \"),_c('datetime',{ref:\"datetime\",on:{\"confirm\":_vm.handleChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34d1ef1b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/hucais-mall/mdc/store/confirmOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34d1ef1b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!sass-resources-loader?{\\\"resources\\\":[\\\"C:\\\\\\\\Users\\\\\\\\09064172\\\\\\\\Desktop\\\\\\\\hucais-web\\\\\\\\hucais-mobile\\\\\\\\src\\\\\\\\hucais-mall\\\\\\\\assets\\\\\\\\css\\\\\\\\rem.scss\\\"]}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./confirmOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirmOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirmOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34d1ef1b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./confirmOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/hucais-mall/mdc/store/confirmOrder.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}