webpackJsonp([3],{"/vcp":function(t,s){},"K+tR":function(t,s){},PLyW:function(t,s){},"RjS+":function(t,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=c("GkCN"),a=c("WTCE"),e=c("aXMM"),r=c("6Xek"),o={components:{Star:i.default,hcShopCart:a.a,HcCartBtn:e.a},data:function(){return{selected:"1",category:{},product:{spec:{}},recommendPoint:0,store:{},cartShow:!1,tempNum:0,popupRoleVisible:!1,userId:"",storeId:""}},methods:{addToCart:function(){this.tempNum+=1,this.$refs.hcCart.updataCart({id:this.product.id,productName:this.product.productName,productMainImage:"",productPrice:this.product.price,checked:1,quantity:this.tempNum}),1==this.tempNum?this.$refs.hcCart.orderAddCart(this.tempNum):this.$refs.hcCart.orderUpdateCart(this.tempNum)},subtractFromCart:function(){this.tempNum-=1,this.$refs.hcCart.updataCart({id:this.product.id,productName:this.product.productName,productMainImage:"",productPrice:this.product.price,checked:1,quantity:this.tempNum}),this.$refs.hcCart.orderUpdateCart(this.tempNum)},getProductDetail:function(){var t=this;Object(r.j)().then(function(s){t.category=s.result.category,t.product=s.result.product,t.recommendPoint=s.result.recommendPoint||10,t.store=s.result.store,t.storeId=s.result.storeId,t.tempNum=parseInt(s.result.curCartCount),t.userId="",setTimeout(function(){t.$refs.hcCart.getCartVo()},0)})}},mounted:function(){this.getProductDetail()}},d={render:function(){var t=this,s=t.$createElement,c=t._self._c||s;return c("div",{staticClass:"hc-goods"},[c("mt-navbar",{staticClass:"hc-goods-header",model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[c("mt-tab-item",{attrs:{id:"1"}},[t._v("商品介绍")]),t._v(" "),c("mt-tab-item",{attrs:{id:"2"}},[t._v("规格参数")])],1),t._v(" "),c("mt-tab-container",{model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[c("mt-tab-container-item",{attrs:{id:"1"}},[c("div",{staticClass:"hc-goods-banner"},[c("mt-swipe",{staticClass:"hc-swiper",attrs:{auto:4e3}},t._l(t.product.imgUrlList,function(t,s){return c("mt-swipe-item",{key:s},[c("div",{staticClass:"hc-banner-item"},[c("img",{attrs:{src:t.url,alt:""}})])])}))],1),t._v(" "),c("div",{staticClass:"hc-goods-intr"},[c("div",{staticClass:"hc-intr-title"},[t._v(t._s(t.product.productName))]),t._v(" "),c("div",{staticClass:"hc-intr-intr hc-f14"},[t._v(t._s(t.product.subtitle))]),t._v(" "),c("div",{staticClass:"hc-intr-reco hc-f14"},[t._v("推荐指数："),c("Star",{attrs:{slot:"right",score:t.recommendPoint},slot:"right"})],1),t._v(" "),c("div",{staticClass:"hc-goods-cost hc-pr"},[c("span",[t._v("￥ ")]),c("span",{staticClass:"hc-f16 hc-cost-cost"},[t._v(t._s(t.product.price))]),t._v(" "),c("hc-cart-btn",{attrs:{tempNum:t.tempNum},on:{subtractFromCart:t.subtractFromCart,addToCart:t.addToCart}})],1)]),t._v(" "),c("div",{staticClass:"hc-goods-shop"},[c("div",{staticClass:"hc-shop-bar hc-pr"},[t._v("配送店铺"),c("div",{staticClass:"hc-bar-icon hc-pa"})]),t._v(" "),c("div",{staticClass:"hc-shop-msg hc-pr"},[c("div",{staticClass:"hc-shop-img hc-pa"},[c("img",{attrs:{src:t.store.imgUrl,alt:""}})]),t._v(" "),c("div",{staticClass:"hc-shop-intr"},[c("div",{staticClass:"hc-f16"},[t._v(t._s(t.store.storeName))]),t._v(" "),c("div",{staticClass:"hc-f12"},[t._v(t._s(t.store.adress))])])])]),t._v(" "),c("div",{staticClass:"hc-goods-display"},[c("div",{domProps:{innerHTML:t._s(t.product.detail)}})]),t._v(" "),c("div",{staticClass:"hc-goods-params"},[c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("产品编号：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.productId))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("规格：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.nums))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("产品重量：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.weight))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("包装方式：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.boxType))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("主体原料：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.material))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("储存方法：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.storgeMethod))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("原麦汁浓度：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.initPercent))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("酒精度：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.winePercent))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("国产/进口：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.source))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("保质期：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.exp))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("原产地：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.sourceArea))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("类别：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.category.name))])])])]),t._v(" "),c("mt-tab-container-item",{attrs:{id:"2"}},[c("div",{staticClass:"hc-goods-params"},[c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("产品编号：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.productId))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("规格：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.nums))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("产品重量：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.weight))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("包装方式：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.boxType))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("主体原料：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.material))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("储存方法：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.storgeMethod))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("原麦汁浓度：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.initPercent))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("酒精度：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.winePercent))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("国产/进口：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.source))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("保质期：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.exp))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("原产地：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.product.spec.sourceArea))])]),t._v(" "),c("div",{staticClass:"hc-params-item"},[c("div",{staticClass:"hc-item-left"},[t._v("类别：")]),t._v(" "),c("div",{staticClass:"hc-item-right"},[t._v(t._s(t.category.name))])])])])],1),t._v(" "),c("hc-shop-cart",{ref:"hcCart",attrs:{userId:t.userId,storeId:t.storeId,productId:t.product.spec.productId},model:{value:t.popupRoleVisible,callback:function(s){t.popupRoleVisible=s},expression:"popupRoleVisible"}})],1)},staticRenderFns:[]};var l=c("VU/8")(o,d,!1,function(t){c("PLyW")},null,null);s.default=l.exports},WTCE:function(t,s,c){"use strict";var i=c("BQAo"),a=c("Au9i"),e={props:{value:{},isMain:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},productId:{type:String,default:""}},data:function(){return{checkVal:this.value}},computed:{},watch:{value:function(t){this.checkVal=t},checkVal:function(t){this.$emit("input",t)}},methods:{clickMe:function(){var t=0;this.checkVal&&(t=1),this.$emit("isCheckAll",this.isMain,this.productId,t)}}},r={render:function(){var t=this,s=t.$createElement,c=t._self._c||s;return c("div",{staticClass:"hc-com-checkbox"},[c("label",{attrs:{for:"label"},on:{change:t.clickMe}},[c("input",{directives:[{name:"model",rawName:"v-model",value:t.checkVal,expression:"checkVal"}],staticClass:"hc-checkbox",attrs:{disabled:t.disabled,type:"checkbox",id:"label"},domProps:{checked:Array.isArray(t.checkVal)?t._i(t.checkVal,null)>-1:t.checkVal},on:{change:function(s){var c=t.checkVal,i=s.target,a=!!i.checked;if(Array.isArray(c)){var e=t._i(c,null);i.checked?e<0&&(t.checkVal=c.concat([null])):e>-1&&(t.checkVal=c.slice(0,e).concat(c.slice(e+1)))}else t.checkVal=a}}})])])},staticRenderFns:[]};var o=c("VU/8")(e,r,!1,function(t){c("/vcp")},null,null).exports,d=c("aXMM"),l=c("6Xek"),h={name:"hc-popup",mixins:[a.Popup],props:{modal:{default:!0},needHide:{type:Boolean,default:!1},hcTitle:{type:String,default:""},modalFade:{default:!0},lockScroll:{default:!0},closeOnClickModal:{default:!0},popupTransition:{type:String,default:"popup-slide"},position:{type:String,default:"bottom"},userId:{type:String,default:""},storeId:{type:String,default:""},productId:{type:String,default:""}},components:{HcCheckbox:o,HcCartBtn:d.a},data:function(){return{currentValue:!1,currentTransition:this.popupTransition,cartShow:!0,tempIsCheckAll:!1,checkValAllDisabled:!1,hcPopup:[]}},computed:{totalNum:function(){var t=0;return this.hcPopup.forEach(function(s){1==s.checked&&(t+=s.quantity)}),t},totalPrice:function(){var t=0;return this.hcPopup.forEach(function(s){s.checked&&(t+=s.quantity*s.productPrice)}),t},checkValAll:{get:function(){var t=this,s=!0;return this.hcPopup.length<=0?(this.checkValAllDisabled=!0,!1):(this.checkValAllDisabled=!1,this.hcPopup.forEach(function(c){c.checked||(s=!1,t.temp=!0)}),s)},set:function(t,s){this.tempIsCheckAll||this.hcPopup.forEach(function(s){s.checked=t})}}},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){this.currentValue=t},totalNum:function(t){0==t&&this.needHide&&(this.currentValue=!1)}},beforeMount:function(){"popup-fade"!==this.popupTransition&&(this.currentTransition="popup-slide-"+this.position)},methods:{showCart:function(){this.currentValue=!this.currentValue},cartSubtract:function(t){var s=this;this.hcPopup.forEach(function(c,i){c.id==t&&(c.quantity-=1,s.orderUpdateCart(c.quantity),0==c.quantity&&s.hcPopup.splice(i,1))})},cartAdd:function(t){var s=this;this.hcPopup.forEach(function(c,i){c.id==t&&(c.quantity+=1,s.orderUpdateCart(c.quantity),0==c.quantity&&s.hcPopup.splice(i,1))})},updataCart:function(t){},emptyCart:function(){var t=this;this.hcPopup.length<=0?i.a.confirm("您的购物车还没有商品哦~~"):i.a.alert("确定清空购物车？").then(function(){t.deleteCartProduct()})},isCheckAll:function(t,s,c){var i=this;if(this.tempIsCheckAll=!0,t)return this.selectOrUnSelect(c),void(this.tempIsCheckAll=!1);this.selectOrUnSelect(c,s),this.hcPopup.forEach(function(t){t.checked||(i.tempIsCheckAll=!1)})},getCartVo:function(){var t=this;Object(l.f)({userId:this.userId,storeId:this.storeId}).then(function(s){t.hcPopup=s.result.cartProductVoList})},orderAddCart:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(l.l)({userId:this.userId,storeId:this.storeId,productId:this.productId,count:s}).then(function(s){t.getCartVo()})},orderUpdateCart:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(l.m)({userId:this.userId,storeId:this.storeId,productId:this.productId,count:s}).then(function(){t.getCartVo()})},deleteCartProduct:function(){var t=this,s="";this.hcPopup.forEach(function(t){s+=t.productId+","}),s=s.substr(0,s.length-1),Object(l.e)({userId:this.userId,storeId:this.storeId,productIds:s}).then(function(){t.hcPopup=[],Object(i.a)("成功清空购物车"),t.showCart()})},selectOrUnSelect:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(l.q)({userId:this.userId,storeId:this.storeId,productId:s,checked:t}).then(function(){})}},mounted:function(){this.value&&(this.rendered=!0,this.currentValue=!0,this.open())}},n={render:function(){var t=this,s=t.$createElement,c=t._self._c||s;return c("div",{staticClass:"hc-cart-popup"},[c("transition",{attrs:{name:t.currentTransition}},[c("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-popup hc-popup",class:[t.position?"mint-popup-"+t.position:""]},[c("div",{staticClass:"hc-popup-box"},[c("div",{staticClass:"hc-cart-header",attrs:{id:"hcPopupTitle"}},[c("div",{staticClass:"hc-cart-checkall"},[c("hc-checkbox",{attrs:{disabled:t.checkValAllDisabled,isMain:!0},on:{isCheckAll:t.isCheckAll},model:{value:t.checkValAll,callback:function(s){t.checkValAll=s},expression:"checkValAll"}})],1),t._v(" "),c("div",{staticClass:"hc-fr hc-empty",on:{click:t.emptyCart}},[c("svg",{staticClass:"icon hc-active",attrs:{"aria-hidden":"true"}},[c("use",{attrs:{"xlink:href":"#icon-lujing10"}})]),t._v("\n            清空购物车\n          ")])]),t._v(" "),c("div",{staticClass:"hc-popup-content"},[t._l(t.hcPopup,function(s,i){return c("div",{directives:[{name:"show",rawName:"v-show",value:t.hcPopup.length>=1,expression:"hcPopup.length>=1"}],key:i,staticClass:"hc-popup-item hc-clearfix"},[c("div",[c("div",{staticClass:"hc-cart-check hc-fl"},[c("hc-checkbox",{attrs:{productId:s.productId},on:{isCheckAll:t.isCheckAll},model:{value:s.checked,callback:function(c){t.$set(s,"checked",c)},expression:"item.checked"}})],1),t._v(" "),c("div",{staticClass:"hc-cart-goods hc-pr"},[c("div",{staticClass:"hc-cart-goods-img"},[c("img",{attrs:{src:s.productMainImage,alt:""}})]),t._v(" "),c("div",{staticClass:"hc-cart-intr"},[c("div",{staticClass:"hc-f14  hc-one-in"},[t._v(t._s(s.productName))]),t._v(" "),c("div",{staticClass:"hc-c999"},[t._v(t._s(s.quantity))]),t._v(" "),c("div",{staticClass:"hc-cart-cost"},[c("span",{staticClass:"hc-f12"},[t._v("￥")]),c("span",{staticClass:"hc-f18 hc-cost"},[t._v(t._s(s.productPrice))])])]),t._v(" "),c("hc-cart-btn",{staticClass:"hc-cost-cart",attrs:{tempNum:s.quantity},on:{subtractFromCart:function(c){t.cartSubtract(s.id)},addToCart:function(c){t.cartAdd(s.id)}}})],1)])])}),t._v(" "),c("div",{directives:[{name:"show",rawName:"v-show",value:t.hcPopup.length<=0,expression:"hcPopup.length<=0"}],staticClass:"hc-cart-empty"},[c("svg",{staticClass:"icon hc-active",attrs:{"aria-hidden":"true"}},[c("use",{attrs:{"xlink:href":"#icon-ziyuan"}})]),t._v(" "),c("div",{staticClass:"hc-f14"},[t._v("您的购物车空空如也")])])],2)])])]),t._v(" "),c("transition",{attrs:{name:"fade"}},[c("div",{directives:[{name:"show",rawName:"v-show",value:t.totalNum>0||!t.needHide,expression:"totalNum>0||!needHide"}],staticClass:"hc-cart-bottom"},[c("div",{staticClass:"hc-bottom-icon hc-pr",on:{click:t.showCart}},[c("svg",{staticClass:"icon",class:t.totalNum>=1?"hc-active":"",attrs:{"aria-hidden":"true"}},[c("use",{attrs:{"xlink:href":"#icon-lujing8"}})]),t._v(" "),c("span",{directives:[{name:"show",rawName:"v-show",value:t.totalNum>=1,expression:"totalNum>=1"}],staticClass:"hc-cart-num hc-pa"},[t._v(t._s(t.totalNum))])]),t._v(" "),c("div",{staticClass:"hc-cart-center",on:{click:t.showCart}},[c("div",{directives:[{name:"show",rawName:"v-show",value:t.totalNum>=1,expression:"totalNum>=1"}]},[c("div",[c("span",{staticClass:"hc-f12"},[t._v("￥")]),c("span",{staticClass:"hc-f18 hc-cost"},[t._v(t._s(t.totalPrice))])]),t._v(" "),c("div",{staticClass:"hc-f12"},[t._v("共计"+t._s(t.totalNum)+"件商品")])]),t._v(" "),c("div",{directives:[{name:"show",rawName:"v-show",value:t.totalNum<=0,expression:"totalNum<=0"}],staticClass:"hc-f16"},[t._v("购物车")])]),t._v(" "),c("div",{staticClass:"hc-cart-btn",on:{click:t.showCart}},[t._v("立即下单")])])])],1)},staticRenderFns:[]};var u=c("VU/8")(h,n,!1,function(t){c("t9is")},"data-v-a5f6d10e",null).exports;c.d(s,"a",function(){return u})},aXMM:function(t,s,c){"use strict";var i={props:{tempNum:{type:Number,default:0}},methods:{subtractFromCart:function(){this.$emit("subtractFromCart")},addToCart:function(){this.$emit("addToCart")}}},a={render:function(){var t=this,s=t.$createElement,c=t._self._c||s;return c("div",{staticClass:"hc-cost-cart hc-pa"},[c("transition",{attrs:{name:"hc-roll"}},[c("div",{directives:[{name:"show",rawName:"v-show",value:t.tempNum>=1,expression:"tempNum>=1"}],staticClass:"hc-cart-icon",on:{click:t.subtractFromCart}},[c("svg",{staticClass:"icon hc-subtract",attrs:{"aria-hidden":"true"}},[c("use",{attrs:{"xlink:href":"#icon-ziyuan2"}})])])]),t._v(" "),c("div",{directives:[{name:"show",rawName:"v-show",value:t.tempNum>=1,expression:"tempNum>=1"}],staticClass:"hc-cart-icon hc-f16 hc-cart-num"},[t._v(t._s(t.tempNum))]),t._v(" "),c("div",{staticClass:"hc-cart-icon",on:{click:t.addToCart}},[c("svg",{staticClass:"icon hc-add",attrs:{"aria-hidden":"true"}},[c("use",{attrs:{"xlink:href":"#icon-ziyuan3"}})])])],1)},staticRenderFns:[]};var e=c("VU/8")(i,a,!1,function(t){c("K+tR")},null,null);s.a=e.exports},t9is:function(t,s){}});
//# sourceMappingURL=3.227b5e85683b177bbfe6.js.map